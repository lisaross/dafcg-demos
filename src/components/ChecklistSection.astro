---
import type { ChecklistSection } from '../data/checklistData';
import ChecklistItem from './ChecklistItem.astro';

interface Props {
  section: ChecklistSection;
}

const { section } = Astro.props;

const iconMap: Record<string, string> = {
  'file-text': 'M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\npath d="M14 2v6h6"\npath d="M16 13H8\npath d="M16 17H8\npath d="M10 9H8',
  'trending-up': 'm4 12 8-8 4 4 8-8',  
  'target': 'circle cx="12" cy="12" r="10"\ncircle cx="12" cy="12" r="6"\ncircle cx="12" cy="12" r="2"'
};
---

<div class="prep-section">
  <div class="section-title">
    <div class="section-icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        {section.icon === 'file-text' && (
          <>
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <path d="m14 2 6 6"/>
            <path d="M16 13H8"/>
            <path d="M16 17H8"/>
            <path d="M10 9H8"/>
          </>
        )}
        {section.icon === 'trending-up' && (
          <>
            <polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/>
            <polyline points="16,7 22,7 22,13"/>
          </>
        )}
        {section.icon === 'target' && (
          <>
            <circle cx="12" cy="12" r="10"/>
            <circle cx="12" cy="12" r="6"/>
            <circle cx="12" cy="12" r="2"/>
          </>
        )}
      </svg>
    </div>
    {section.title}
  </div>
  <ul class="checklist">
    {section.items.map((item) => (
      <ChecklistItem item={item} />
    ))}
  </ul>
</div>

<style>
  .prep-section {
    margin-bottom: 40px;
    background: white;
    border-radius: 10px;
    padding: 30px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    border-left: 5px solid transparent;
  }

  .section-title {
    font-family: 'Cooper Hewitt', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: #391892;
    font-size: 1.6em;
    font-weight: 700;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .section-icon {
    background: #18DD89;
    color: #391892;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2em;
    font-weight: 700;
  }

  .checklist {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  @media (max-width: 768px) {
    .prep-section {
      padding: 20px;
    }
  }
</style>