---
import { type HTMLAttributes } from 'astro/types';

export interface Props extends HTMLAttributes<'span'> {
  status: 'live' | 'demo' | 'interactive' | 'development' | 'archived';
  variant?: 'default' | 'outline' | 'secondary';
  size?: 'sm' | 'default' | 'lg';
  icon?: boolean;
}

const { 
  status,
  variant = 'default',
  size = 'default',
  icon = false,
  class: className,
  ...props 
} = Astro.props;

const baseClasses = "inline-flex items-center justify-center font-cooper-hewitt uppercase font-bold rounded-[10px] transition-colors";

const sizeClasses = {
  sm: "px-2 py-2 text-xs min-h-[24px]",
  default: "px-3 py-2 text-xs min-h-[28px]",
  lg: "px-4 py-3 text-sm min-h-[32px]"
};

const statusConfig = {
  live: {
    default: "bg-[#18DD89] bg-opacity-10 text-[#391892] border border-[#18DD89] border-opacity-30",
    outline: "border-2 border-[#18DD89] text-[#18DD89] bg-white",
    secondary: "bg-green-100 text-green-800 border border-green-200"
  },
  demo: {
    default: "bg-[#391892] bg-opacity-10 text-[#391892] border border-[#391892] border-opacity-30",
    outline: "border-2 border-[#391892] text-[#391892] bg-white",
    secondary: "bg-purple-100 text-purple-800 border border-purple-200"
  },
  interactive: {
    default: "bg-blue-50 text-[#391892] border border-blue-200",
    outline: "border-2 border-blue-500 text-blue-500 bg-white",
    secondary: "bg-blue-100 text-blue-800 border border-blue-200"
  },
  development: {
    default: "bg-yellow-50 text-yellow-800 border border-yellow-200",
    outline: "border-2 border-yellow-500 text-yellow-600 bg-white",
    secondary: "bg-yellow-100 text-yellow-800 border border-yellow-200"
  },
  archived: {
    default: "bg-gray-50 text-gray-600 border border-gray-200",
    outline: "border-2 border-gray-400 text-gray-600 bg-white", 
    secondary: "bg-gray-100 text-gray-700 border border-gray-200"
  }
};

const iconSvgs = {
  live: `<svg class="w-2 h-2 mr-1" fill="currentColor" viewBox="0 0 8 8"><circle cx="4" cy="4" r="3"></circle></svg>`,
  demo: `<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>`,
  interactive: `<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"></path></svg>`,
  development: `<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>`,
  archived: `<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8l4 5 8-8"></path></svg>`
};

const badgeClasses = `${baseClasses} ${sizeClasses[size]} ${statusConfig[status][variant]} ${className || ''}`;
---

<span class={badgeClasses} {...props}>
  {icon && <Fragment set:html={iconSvgs[status]} />}
  {status}
</span>

<style>
  .font-cooper-hewitt {
    font-family: 'Cooper Hewitt', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
  }
</style>